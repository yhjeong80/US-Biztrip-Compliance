<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">

  <!-- ğŸ”¹ í•€ì¹˜ì¤Œ í—ˆìš© -->
  <meta name="viewport"
        content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=yes">

  <title>PDF Viewer</title>
  <link rel="stylesheet" href="viewer.css">

  <style>
    .toolbar .home-link {
      margin-right: 8px;
      padding: 4px 10px;
      border-radius: 4px;
      background: #2563eb;
      color: #fff;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      display: inline-block;
    }

    /* 
      ğŸ”¥ í•µì‹¬ ìˆ˜ì • ë¶€ë¶„
      ê¸°ì¡´: touch-action: pinch-zoom;  â† ì´ê²ƒ ë•Œë¬¸ì— í•œ ì†ê°€ë½ ë“œë˜ê·¸ ë§‰í˜
      ë³€ê²½: pan-x pan-y pinch-zoom;  â† í•€ì¹˜ì¤Œ + í•œ ì†ê°€ë½ ì´ë™ ë‘˜ ë‹¤ í—ˆìš©
    */
    #viewer-wrap {
      touch-action: pan-x pan-y pinch-zoom;
      width: 100%;
      height: calc(100vh - 48px); /* ìƒë‹¨ toolbar ì œì™¸ */
      overflow: auto; /* í™•ëŒ€ ì‹œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥ */
      background: #111;
    }

    /* ìº”ë²„ìŠ¤ëŠ” ê¸°ë³¸ê°’(auto)ë¡œ ë‘ëŠ” ê²ƒì´ ì¢‹ìŒ */
    #pdf-render {
      display: block;
      margin: 0 auto;
      touch-action: auto;
    }

    /* ëª¨ë°”ì¼ì—ì„œëŠ” ê¸°ì¡´ ì¤Œ ë²„íŠ¼ ìˆ¨ê¹€ */
    @media (pointer: coarse) {
      #zoom-out,
      #zoom-in,
      #fit-width,
      #zoom {
        display: none;
      }
    }
  </style>

  <!-- PDF.js via CDN -->
  <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc =
      "https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.worker.min.js";
  </script>
</head>

<body>
  <div class="toolbar">
    <a href="../index.html" class="home-link">â† í™ˆìœ¼ë¡œ</a>

    <button id="prev">â—€</button>
    <span>
      í˜ì´ì§€ <input id="page-num" type="number" min="1" value="1">
      / <span id="page-count">1</span>
    </span>
    <button id="next">â–¶</button>

    <span class="spacer"></span>

    <button id="zoom-out">ï¼</button>
    <span id="zoom">100%</span>
    <button id="zoom-in">ï¼‹</button>
    <button id="fit-width">í­ ë§ì¶¤</button>
  </div>

  <div id="viewer-wrap">
    <canvas id="pdf-render"></canvas>
  </div>

  <script src="app.js"></script>
</body>
</html>
